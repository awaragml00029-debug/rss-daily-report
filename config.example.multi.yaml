# ==========================================
# RSS Daily Report - å¤šæŠ¥å‘Šé…ç½®ç¤ºä¾‹
# ==========================================

# å…¨å±€é»˜è®¤é…ç½®ï¼ˆæ‰€æœ‰æŠ¥å‘Šç»§æ‰¿ï¼‰
defaults:
  # é»˜è®¤åˆ—ç´¢å¼•ï¼ˆä»1å¼€å§‹ï¼Œå¯¹åº” A=1, B=2...ï¼‰
  columns:
    crawl_time: 1      # Aåˆ— - æŠ“å–æ—¶é—´
    attribute: 2       # Båˆ— - å±æ€§
    source_name: 3     # Cåˆ— - é€‚åç§°
    category: 4        # Dåˆ— - é€‚åˆ†ç±»ï¼ˆç”¨äºåˆ†ç±»è¯†åˆ«ï¼‰
    title: 5           # Eåˆ— - æ ‡é¢˜ï¼ˆåŸå§‹æ ‡é¢˜ï¼Œç”¨äºå…³é”®è¯ç­›é€‰å’ŒAIæ€»ç»“ï¼‰
    link: 6            # Fåˆ— - é“¾æ¥
    description: 7     # Gåˆ— - æè¿°/æ‘˜è¦
    publish_time: 8    # Håˆ— - å‘å¸ƒæ—¶é—´
    author: 9          # Iåˆ— - ä½œè€…
    zhtitle: 10        # Jåˆ— - ä¸­æ–‡æ ‡é¢˜ï¼ˆç”¨äºæŠ¥å‘Šå±•ç¤ºï¼Œå¦‚æœä¸ºç©ºåˆ™ä½¿ç”¨åŸå§‹æ ‡é¢˜ï¼‰

  # æ¥æºåˆ†ç±»æ˜ å°„é…ç½®
  source_mapping:
    mpRss: ["å…¬ä¼—å·", 1, "ğŸ“°"]
    Database: ["æ•°æ®å‰æ²¿", 2, "ğŸ§¬"]
    Journal: ["æœŸåˆŠæ–‡ç« ", 3, "ğŸ”¬"]
    Rcoding: ["å­¦ç‚¹ç”Ÿä¿¡", 4, "ğŸ“Š"]
    RnaSeq: ["åšå®¢æ›´æ–°", 5, "ğŸ§ª"]
    _default: ["å…¶ä»–æ¥æº", 99, "ğŸ“"]

  # æŠ¥å‘Šæ ¼å¼é…ç½®
  report_format:
    detail_items_per_source: 10
    description_max_length: 2500
    show_more_section: true

  # è¾“å‡ºè·¯å¾„é…ç½®ï¼ˆæ‰€æœ‰æŠ¥å‘Šå…±äº«ï¼‰
  output:
    daily_path: "reports/{year}/{month}"
    monthly_path: "reports/{year}"

# Gemini AI é…ç½®ï¼ˆå…¨å±€å…±äº«ï¼‰
gemini:
  enabled: true
  api_url: "https://generativelanguage.googleapis.com/v1beta/models"
  model: "gemini-2.5-flash-lite"
  temperature: 0.7
  max_tokens: 2500
  language: "zh-CN"
  max_items_per_source: 25

  prompt_template: |
    ä½ æ˜¯ä¸€ä½ç»éªŒä¸°å¯Œçš„ç§‘ç ”ä¿¡æ¯ç¼–è¾‘ï¼Œæ“…é•¿ä¿¡æ¯æ”¶é›†ã€å»é‡å’Œå†…å®¹æ ¡å¯¹ã€‚è¯·ç”¨ç®€ç»ƒä¸“ä¸šçš„è¯­è¨€æ€»ç»“ä»¥ä¸‹æ¥è‡ª"{source_name}"çš„æ–‡ç« ã€‚

    æ–‡ç« åˆ—è¡¨ï¼š
    {articles}

    è¯·ç”Ÿæˆç²¾ç‚¼æ€»ç»“ï¼ˆæœ€å¤š250å­—ï¼‰ï¼š

    **ä»Šæ—¥ç„¦ç‚¹**ï¼š
    ä¸€å¥è¯æ¦‚æ‹¬æœ€å€¼å¾—å…³æ³¨çš„1-2ä¸ªçªç ´æˆ–åˆ›æ–°

    **ä¸»è¦æ–¹å‘**ï¼š
    - [2-3ä¸ªå…·ä½“ç ”ç©¶æ–¹å‘ï¼Œç›´æ¥è¯´åšä»€ä¹ˆ]

    **æŠ€æœ¯äº®ç‚¹**ï¼š
    - [1-2ä¸ªæ–¹æ³•æˆ–æŠ€æœ¯çš„åˆ›æ–°ç‚¹]

    è¦æ±‚ï¼š
    1. å»é™¤é‡å¤å†…å®¹ï¼Œä»…ä¿ç•™æœ€æœ‰ä»·å€¼çš„ä¿¡æ¯
    2. çªå‡º"é¦–æ¬¡"ã€"æ–°å‹"ã€"çªç ´"ç­‰å…³é”®è¿›å±•
    3. ç”¨å…·ä½“çš„ç ”ç©¶å¯¹è±¡å’Œæ–¹æ³•ï¼Œé¿å…æ³›æ³›è€Œè°ˆ
    4. è¯­è¨€ç®€æ´ç›´æ¥ï¼Œä¸è¦é“ºå«
    5. ä¸¥æ ¼æ§åˆ¶åœ¨250å­—ä»¥å†…

# ==========================================
# å¤šæŠ¥å‘Šé…ç½®
# ==========================================
report_configs:
  # æŠ¥å‘Š1ï¼šç”Ÿç‰©ä¿¡æ¯å­¦æ—¥æŠ¥ï¼ˆåŸæœ‰é…ç½®ï¼‰
  bioinfo:
    name: "ç”Ÿç‰©ä¿¡æ¯å­¦æ—¥æŠ¥"
    enabled: true
    description: "ç”Ÿç‰©ä¿¡æ¯å­¦ã€ç”Ÿç‰©åŒ»å­¦ç›¸å…³çš„RSSæ—¥æŠ¥"

    # Google Sheets é…ç½®
    google_sheets:
      spreadsheet_env: "SHEET_ID_1"  # å¯¹åº”ç¯å¢ƒå˜é‡ SHEET_ID_1
      sheet_name: "RSSå¤„ç†æ•°æ®"

    # ç­›é€‰å…³é”®è¯ï¼ˆæ”¯æŒæ­£åˆ™è¡¨è¾¾å¼ï¼Œä¸­è‹±æ–‡éƒ½åŒ¹é…ï¼‰
    keywords:
      # === è‚¿ç˜¤ç›¸å…³ ===
      - "è‚¿ç˜¤"
      - "ç™Œç—‡"
      - "tumor"
      - "cancer"
      - "oncology"

      # === æµ‹åºæŠ€æœ¯ ===
      - "æµ‹åº"
      - "sequencing"
      - "RNA-seq"
      - "å•ç»†èƒ"
      - "single.cell"

      # === ç»„å­¦ ===
      - "åŸºå› ç»„"
      - "è½¬å½•ç»„"
      - "è›‹ç™½è´¨ç»„"
      - "genome"
      - "transcriptome"

      # æ›´å¤šå…³é”®è¯...

    # æ’é™¤å…³é”®è¯
    exclude_keywords:
      - "å¹¿å‘Š"
      - "æ¨å¹¿"
      - "è˜"
      - "è¯¾ç¨‹"
      - "åŸ¹è®­"

    # è¾“å‡ºæ–‡ä»¶åï¼ˆè·¯å¾„ç»§æ‰¿ defaults.outputï¼‰
    output:
      daily_filename: "daily-{date}.md"
      monthly_filename: "monthly-{year}-{month}.md"

    # Hugo åšå®¢é›†æˆé…ç½®
    hugo:
      enabled: true
      repo: "ixxmu/ixxmu.github.io.source"
      branch: "FigureYY"
      path: "content/posts/DailyReports"
      author: "oknet"

    # å¤‡ä»½ä»“åº“é…ç½®
    backup:
      enabled: true
      repo: "ixxmu/duty_bk"
      branch: "main"
      path: "DailyReports/reports"

  # æŠ¥å‘Š2ï¼šåŒ»å­¦å½±åƒæ—¥æŠ¥ï¼ˆæ–°æ•°æ®æºç¤ºä¾‹ï¼‰
  imaging:
    name: "åŒ»å­¦å½±åƒæ—¥æŠ¥"
    enabled: false  # é»˜è®¤ç¦ç”¨ï¼Œéœ€è¦æ—¶å¯ç”¨
    description: "åŒ»å­¦å½±åƒã€æ”¾å°„å­¦ç›¸å…³çš„RSSæ—¥æŠ¥"

    # Google Sheets é…ç½®
    google_sheets:
      spreadsheet_env: "SHEET_ID_2"  # å¯¹åº”ç¯å¢ƒå˜é‡ SHEET_ID_2
      sheet_name: "Imagingæ•°æ®"

    # å¯ä»¥è¦†ç›–åˆ—é…ç½®ï¼ˆå¦‚æœè¿™ä¸ª Sheet çš„ç»“æ„ä¸åŒï¼‰
    # columns:
    #   crawl_time: 1
    #   source_name: 2
    #   title: 3
    #   link: 4
    #   description: 5

    # ç­›é€‰å…³é”®è¯
    keywords:
      - "CT"
      - "MRI"
      - "å½±åƒç»„å­¦"
      - "radiomics"
      - "åŒ»å­¦å½±åƒ"
      - "æ”¾å°„å­¦"
      - "radiology"
      - "è¶…å£°"
      - "ultrasound"
      - "PET"
      - "SPECT"

    exclude_keywords:
      - "å¹¿å‘Š"
      - "æ¨å¹¿"
      - "è¯¾ç¨‹"

    # è¾“å‡ºæ–‡ä»¶å
    output:
      daily_filename: "imaging-{date}.md"
      monthly_filename: "imaging-monthly-{year}-{month}.md"

    # Hugo é…ç½®ï¼ˆå¯ä»¥æ¨é€åˆ°ä¸åŒè·¯å¾„ï¼‰
    hugo:
      enabled: true
      repo: "ixxmu/ixxmu.github.io.source"
      branch: "FigureYY"
      path: "content/posts/ImagingReports"  # ä¸åŒçš„è·¯å¾„
      author: "oknet"

    # å¤‡ä»½é…ç½®
    backup:
      enabled: true
      repo: "ixxmu/duty_bk"
      branch: "main"
      path: "ImagingReports/reports"  # ä¸åŒçš„è·¯å¾„

# ==========================================
# ä½¿ç”¨è¯´æ˜
# ==========================================
# 1. æ·»åŠ æ–°æŠ¥å‘Šï¼šåœ¨ report_configs ä¸‹æ·»åŠ æ–°çš„é…ç½®å—
# 2. ç¯å¢ƒå˜é‡ï¼šè®¾ç½®å¯¹åº”çš„ SHEET_ID_1, SHEET_ID_2 ç­‰
# 3. è¿è¡Œå‘½ä»¤ï¼š
#    python scripts/generate_report.py --config-name bioinfo --mode daily
#    python scripts/generate_report.py --config-name imaging --mode daily
# 4. GitHub Actionsï¼šä¸ºæ¯ä¸ªæŠ¥å‘Šåˆ›å»ºç‹¬ç«‹çš„ workflow æ–‡ä»¶
